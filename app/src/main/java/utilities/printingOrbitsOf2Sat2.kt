package utilities

import android.os.Build
import androidx.annotation.RequiresApi
import kotlin.math.*

@RequiresApi(Build.VERSION_CODES.O)
fun createKMLFile1(sat1: String, sat2: String): String {

//    val url = "https://celestrak.com/NORAD/elements/gp.php?NAME=$sat1&FORMAT=TLE"
//    var response: String? = null
//    val executorService = Executors.newSingleThreadExecutor()
//    val future = executorService.submit {
//        response = Jsoup.connect(url).ignoreContentType(true).execute().body()
//    }
//    future.get()
//    val lines = response?.split("\n")
//    executorService.shutdown()
//    val line1 = "1 56446U 23063A   23172.32771504  .00000141  00000+0  58996-5 0  9990"
//    val lines2 = "2 56446  41.4746 130.7235 0004813  98.5802 261.5581 15.59339219  6520"
//
//    val coordinates = 0//allCoordinates.joinToString(" ")

//    /* Inserts the orbit part as a tour */
//    String orbit = ActionBuildCommandUtility.buildCommandInsertOrbit (lla_coords, 100000);

//    val kmlTemplate = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
//            "<kml xmlns=\"http://www.opengis.net/kml/2.2\" xmlns:gx=\"http://www.google.com/kml/ext/2.2\">\n" +
//            "    <Document id=\"1\">\n" +
//            "        <Style id=\"4\">\n" +
//            "            <LineStyle id=\"5\">\n" +
//            "                <color>ff0000ff</color>\n" +
//            "                <colorMode>normal</colorMode>\n" +
//            "            </LineStyle>\n" +
//            "        </Style>\n" +
//            "        <Placemark id=\"3\">\n" +
//            "            <name>Satellite 1</name>\n" +
//            "            <styleUrl>#4</styleUrl>\n" +
//            "            <LineString id=\"8\"> \n" +
//            "                <coordinates>$coordinates</coordinates>\n" +
//            "        <extrude>0</extrude>\n" +
//            "        <altitudeMode>relativeToGround</altitudeMode>" +
//
//            "</LineString>" +
//            "        </Placemark>\n" +
//            "    </Document>\n" +
//            "</kml>"

    val kmlTemplate = "<kml xmlns=\"http://www.opengis.net/kml/2.2\"\n" +
            "xmlns:atom=\"http://www.w3.org/2005/Atom\" \n" +
            " xmlns:gx=\"http://www.google.com/kml/ext/2.2\"> \n" +
            "    <Document>\n" +
            "        <name>Satellite Trajectories</name>\n" +
            "        \n" +
            " <open>1</open>\n" +
            "        <Style id=\"satellite1\">\n" +
            "            <LineStyle>\n" +
            "                <color>ff0000ff</color>\n" +
            "                <width>2</width>\n" +
            "            </LineStyle>\n" +
            "        </Style>\n" +
            "        \n" +
            "        <Style id=\"satellite2\">\n" +
            "            <LineStyle>\n" +
            "                <color>ff00ff00</color>\n" +
            "                <width>2</width>\n" +
            "            </LineStyle>\n" +
            "        </Style>\n" +
            "        <Placemark>\n" +
            "            <name>Satellite 1</name>\n" +
            "            <styleUrl>#satellite1</styleUrl>\n" +
            "            <LineString>\n" +
            "                <extrude>1</extrude>\n" +
            "                <tessellate>1</tessellate>\n" +
            "                <altitudeMode>absolute</altitudeMode>\n" +
            "                <coordinates>%satellite1Coordinates%</coordinates>\n" +
            "            </LineString>\n" +
            "        </Placemark>\n" +
            "        \n" +
            "        <Placemark>\n" +
            "            <name>Satellite 2</name>\n" +
            "            <styleUrl>#satellite2</styleUrl>\n" +
            "            <LineString>\n" +
            "                <extrude>1</extrude>\n" +
            "                <tessellate>1</tessellate>\n" +
            "                <altitudeMode>absolute</altitudeMode>\n" +
            "                <coordinates>%satellite2Coordinates%</coordinates>\n" +
            "            </LineString>\n" +
            "        </Placemark>\n" +
            "    </Document>\n" +
            "</kml>"

    val satellite1Coordinates = "6.523042476521053,-28.352667249953633,1438630.5709120021\n" +
            "8.60972788189503,-26.32063436633239,1439353.0861417288\n" +
            "10.620737323288921,-24.25450383456622,1440065.210918653\n" +
            "12.56409869639502,-22.158191026280583,1440761.7709966248\n" +
            "14.447413346915404,-20.03529113176145,1441437.7890071047\n" +
            "16.27787574599821,-17.88912126149422,1442088.5299595536\n" +
            "18.062302834123226,-15.72275928701393,1442709.5444545327\n" +
            "19.80716983025107,-13.539079260992319,1443296.70921039\n" +
            "21.518649832829755,-11.340783896360913,1443846.2643712207\n" +
            "23.202655685147832,-9.130434251098837,1444354.8472213016\n" +
            "24.864882957717043,-6.910477017332795,1444819.5219013572\n" +
            "26.510853327851493,-4.683269840845247,1445237.8047688673\n" +
            "28.145957994502705,-2.4511050448073424,1445607.685109449\n" +
            "29.775500976554913,-0.21623213802481925,1445927.6409558551\n" +
            "31.40474227320492,2.0191204923108828,1446196.6498236936\n" +
            "33.038940903181945,4.252724236772555,1446414.1942293684\n" +
            "34.68339805469438,6.482329019659524,1446580.2619468933\n" +
            "36.343500330425336,8.705641585803466,1446695.340986564\n" +
            "38.02476329163234,10.920303073549583,1446760.4093815607\n" +
            "39.73287521124984,13.123865359229955,1446776.9199065717\n" +
            "41.473740963059896,15.313765849473159,1446746.7799298395\n" +
            "43.253525673862235,17.48730027872118,1446672.3266496242\n" +
            "45.07869746308267,19.64159307267596,1446556.2980269387\n" +
            "46.95606832587101,21.773565017685538,1446401.7997676947\n" +
            "48.89283141860103,23.879897745137235,1446212.2687595068\n" +
            "50.89659253995269,25.956994930160207,1445991.4333904895\n" +
            "52.975392373811054,28.00093996170498,1445743.2712206787\n" +
            "55.13771496005282,30.007450226232642,1445471.9644883384\n" +
            "57.39247622789892,31.971828406261846,1445181.8539496576\n" +
            "59.74898448308336,33.888911641293745,1444877.3915616116\n" +
            "62.21686261187191,35.75302013133023,1444563.0925075796\n" +
            "64.80591923937752,37.557907548189625,1444243.4870775514\n" +
            "67.52595401688463,39.29671695434756,1443923.0728816588\n" +
            "70.38648048084121,40.9619472984517,1443606.2678799834\n" +
            "73.39635014158586,42.54543746724911,1443297.3646680592\n" +
            "76.56326406750959,44.03837663932559,1443000.486463042\n" +
            "79.89316600108181,45.43135169232253,1442719.5451698832\n" +
            "83.38952443407915,46.714443416878,1442458.2019141898\n" +
            "87.05253265407987,47.87738327239619,1442219.8303751124\n" +
            "90.87828472999814,48.90978005615733,1442007.4832179085\n" +
            "94.85801854909823,49.80142028396827,1441823.8619066658\n" +
            "98.97754772056096,50.54263696315544,1441671.2901346115\n" +
            "103.2170206925626,51.124728989042474,1441551.6910765467\n" +
            "107.55113495252523,51.54039947748796,1441466.5686317573\n" +
            "111.94988622964735,51.784169163574276,1441416.9928071657\n" +
            "116.37984973685542,51.85271498657277,1441403.5893384453\n" +
            "120.8058869698445,51.74508739407327,1441426.533628136\n" +
            "125.19307724384568,51.46277410459607,1441485.549045763\n" +
            "129.50862027148327,51.00960053028391,1441579.9095992974\n" +
            "133.72346289339208,50.39148210387696,1441708.4469610564\n" +
            "137.81346768261025,49.616064778127935,1441869.5617964498\n" +
            "141.76004024745262,48.692301858616375,1442061.239312873\n" +
            "145.55023311034094,47.63001646421277,1442281.0689151473\n" +
            "149.17642025967663,46.43949112010306,1442526.2678196472\n" +
            "152.63567545723328,45.131113098886274,1442793.7084509127\n" +
            "155.9289907398183,43.71509034991029,1443079.949398261\n" +
            "159.0604511073708,42.201240921182674,1443381.2697008136\n" +
            "162.0364488982614,40.598850580447525,1443693.7061657438\n" +
            "164.86498890030282,38.91658847886476,1444013.0934163989\n" +
            "167.55510768294616,37.16246898348671,1444335.1063201914\n" +
            "170.11641110058602,35.34384799030549,1444655.3044247117\n" +
            "172.5587215726879,33.46744350959455,1444969.177983606\n" +
            "174.89182076066652,31.53937201165957,1445272.1951576686\n" +
            "177.12527084320976,29.565194130115177,1445559.8499173697\n" +
            "179.26829822834114,27.549964915782137,1445827.7101767338\n" +
            "-178.67027475194985,25.498285302596038,1446071.4656663698\n" +
            "-176.6820622782044,23.414352540627746,1446286.9750458065\n" +
            "-174.759121497529,21.30200832762719,1446470.3117361874\n" +
            "-172.89394049508135,19.16478376857326,1446617.8079822767\n" +
            "-171.0794136627571,17.005940930407995,1446726.0966365703\n" +
            "-169.3088086815172,14.828510898834269,1446792.1501900633\n" +
            "-167.57572826944005,12.635328569506305,1446813.3165879198\n" +
            "-165.8740687552024,10.429064333079477,1446787.3514062194\n" +
            "-164.19797706092913,8.212253137069837,1446712.4459944982\n" +
            "-162.54180697496759,5.98732123757494,1446587.2512421173\n" +
            "-160.90007524104834,3.7566109912335124,1446410.8966658965\n" +
            "-159.2674178695682,1.522404234979461,1446183.0045838663\n" +
            "-157.63854664232585,-0.7130555046070558,1445903.6991837036\n" +
            "-156.00820591159265,-2.94754141657663,1445573.6103781583\n" +
            "-154.37112947511744,-5.178822184114302,1445193.8723762129\n" +
            "-152.7219975213921,-7.404640591421153,1444766.1169990432\n" +
            "-151.0553934382357,-9.62269168597614,1444292.4618006141\n" +
            "-149.36576048637542,-11.830600026556608,1443775.4931437387\n" +
            "-147.64735835507057,-14.025895655834052,1443218.2444268113\n" +
            "-145.89421984395545,-16.20598835441694,1442624.1697308663\n" +
            "-144.1001080479774,-18.36813985880442,1441997.1131791007\n" +
            "-142.25847488099882,-20.50943358238948,1441341.2743863242\n" +
            "-140.36242212166232,-22.626741532548312,1440661.1703861193\n" +
            "-138.4046668585421,-24.716688078157183,1439961.5944837518\n" +
            "-136.37751389135937,-26.77561045363127,1439247.5724669816\n" +
            "-134.27283887100572,-28.79951585633566,1438524.3166856146\n" +
            "-132.08208715596044,-30.784035389958476,1437797.1784751078\n" +
            "-129.79629509135682,-32.724375389941905,1437071.5994295278\n" +
            "-127.4061423117532,-34.61526725015483,1436353.0620055893\n" +
            "-124.90204603234258,-36.45091747292863,1435647.0399781554\n" +
            "-122.27431035722205,-38.22496081374861,1434958.9491908788\n" +
            "-119.51334579809054,-39.930420494522934,1434294.0990883806\n" +
            "-116.60997511337456,-41.55968110097188,1433657.6454627467\n" +
            "-113.55584054833939,-43.1044816058641,1433054.5448055184\n" +
            "-110.34392368813832,-44.55593760320044,1432489.5107091425\n" +
            "-106.96917932892335,-45.904603723374606,1431966.9726116273\n" +
            "-103.42926941293133,-47.14058767979856,1431491.037256952\n" +
            "-99.72535935335193,-48.25372675945117,1431065.4531428954\n" +
            "-95.86290960891574,-49.23383414791367,1430693.5782499118\n" +
            "-91.85236272835523,-50.07101613154148,1430378.3512437474\n" +
            "-87.70960084218491,-50.756050974929124,1430122.2663987165\n" +
            "-83.45603964913867,-51.280807772107394,1429927.3523739323\n" +
            "-79.11824770331289,-51.638670181672104,1429795.155020371\n" +
            "-74.72703695486385,-51.82492002531417,1429726.7242991999\n" +
            "-70.31606054840161,-51.837032513762765,1429722.605421041\n" +
            "-65.92005287259212,-51.67484176038189,1429782.8342491\n" +
            "-61.57292801035157,-51.34055184284305,1429906.9369987661\n" +
            "-57.305985826134695,-50.838591717345544,1430093.9342373845\n" +
            "-53.14644983829653,-50.17533578584987,1430342.3491583948\n" +
            "-49.116485177655626,-49.35872974788182,1430650.220070139\n" +
            "-45.23274577391475,-48.39786955007205,1431015.1170327766\n" +
            "-41.506408342624674,-47.30257950507699,1431434.1625214803\n" +
            "-37.943587239114294,-46.08302624495628,1431904.0559810551\n" +
            "-34.545997648722434,-44.74939217639371,1432421.1021073295\n" +
            "-31.31173918808072,-43.31161914628616,1432981.2426633667"

    val satellite2Coordinates =
        "86.4983823143236,22.35952813086534,547375.1699976921 86.82961696836418,21.95894099740477,547343.2742888775 87.15880574372376,21.55752704538397,547312.751694353 87.48599679427798,21.15530731442772,547283.6268150732 87.81123783849702,20.752302373461795,547255.9238399788 88.13457605059926,20.348532473997835,547229.6665481973 88.45605795405491,19.944017704940553,547204.8783083998 88.77572966642575,19.538777710733868,547181.5820506193 89.09363678703913,19.13283184502034,547159.8002674313 89.4098243016488,18.726199325707896,547139.5550119993 89.72433681299646,18.318898951057562,547120.8678736123 90.03721844135015,17.9109492536776,547103.7599776671 90.34851272459066,17.502368655812464,547088.2519825015 90.65826284755417,17.093175183528306,547074.3640586894 90.96651154722427,16.683386621004967,547062.115887895 91.27330100630836,16.27302066601776,547051.5266583558 91.57867309236507,15.86209464236447,547042.6150481922 91.8826692519653,15.450625654431548,547035.3992230311 92.18533041670204,15.038630742838434,547029.8968301378 92.4866972301832,14.6261265952575,547026.1249858793 92.7868099505388,14.213129701217499,547024.1002720622 93.08570835364011,13.79965650789775,547023.8387287309 93.38343196024807,13.385723129473801,547025.3558458741 93.68001993790321,12.971345502148838,547028.6665584864 93.97551100701772,12.556539540059617,547033.7852379781 94.26994366420688,12.141320843301271,547040.7256882553 94.56335608714639,11.725704853148905,547049.5011395108 94.85578603710489,11.309707008077908,547060.1242381582 95.14727108618953,10.893342450584118,547072.6070474826 95.4378485195826,10.476626182590177,547086.9610400321 95.72755524021221,10.059573221548442,547103.1970861648 96.01642799261924,9.64219830620265,547121.3254593008 96.30450326618951,9.22451605214943,547141.3558269265 96.59181720432217,8.806541108016727,547163.2972377139 96.87840582181565,8.388287860287939,547187.1581314743 97.16430491062668,7.9697705890067825,547212.9463287721 97.44954994883236,7.5510036240106295,547240.6690165771 97.73417631801283,7.132001048948969,547270.3327630324 98.01821921017188,6.712776857107904,547301.9435056073 98.30171353345355,6.293345107692703,547335.5065353257 98.58469413309757,5.873719629152523,547371.0265163702 98.86719569231377,5.453914175121094,547408.5074728094 99.14925264966405,5.0339425807203195,547447.9527713583 99.43089940380729,4.613818465323506,547489.3651458711 99.71217022948912,4.19355538858784,547532.7466826594 99.99309918397275,3.773167006740267,547578.0988017599 100.27372031748854,3.3526667750284282,547625.4222863524 100.55406758756726,2.932068103620879,547674.717266658 100.83417476359332,2.51138451406992,547725.9831997304 101.11407564319657,2.0906293412616974,547779.2189038497 101.3938039564931,1.6698158895873025,547834.4225409181 101.67339328159598,1.248957589248029,547891.5915948668 101.9528772517623,0.8280676980260457,547950.7229109452 102.2322894665391,0.4071594575087955,548011.8126767148 102.51166340271865,-0.01375375061836154,548074.8563989807 102.79103262289695,-0.4346587029966873,548139.8489480666 103.0704306884375,-0.8555421781399994,548206.7845373027 103.34989106619649,-1.2763908004028273,548275.6566986121 103.62944734164633,-1.6971913381860233,548346.4583316393 103.9091331277378,-2.1179305476897445,548419.1816818357 104.18898197605147,-2.5385950167298743,548493.8183146556 104.46902758598307,-2.959171462924443,548570.3591695124 104.74930371606963,-3.379646577411111,548648.7945364934 105.02984409282199,-3.8000068687416295,548729.1140291565 105.31068262202984,-4.220238960853288,548811.3066433055 105.59185330164465,-4.640329436662495,548895.3607322961 105.87339012568586,-5.060264682242809,548981.2639784999 106.15532729999998,-5.480031184273352,549069.0034568257 106.43769915242508,-5.899615373822968,549158.5656086043 106.72054003877582,-6.319003470426412,549249.93621182 107.00388455828241,-6.738181779190336,549343.1004491737 107.28776746261224,-7.157136534578642,549438.042880722 107.57222356133171,-7.575853744607725,549534.7474127524 107.85728794226196,-7.99431948735588,549633.1973704676 108.14299587509247,-8.412519754801552,549733.3754692207 108.42938271954729,-8.830440297149876,549835.2637822223 108.716484144639,-9.248066918626023,549938.8438176223 109.00433603176971,-9.665385321380347,550044.0964884501 109.29297438757733,-10.082380949964755,550151.0020791797 109.58243555523013,-10.499039286285576,550259.5403270338 109.87275612816052,-10.915345693593657,550369.690390734 110.16397285079003,-11.331285261120268,550481.4308159073 110.4561228416951,-11.746843098074763,550594.7396205327 110.74924349950022,-12.162004177725187,550709.5942624799 111.04337240428464,-12.576753182224058,550825.9716038469 111.33854754699594,-12.991074795507807,550943.848000381 111.6348072261283,-13.404953547496808,551063.1992678549 111.93218995966514,-13.818373659120478,551184.00064538 112.23073470220987,-14.231319333997853,551306.2268886378 112.53048075605778,-14.643774602768236,551429.8522351384 112.83146766891949,-15.055723168332177,551554.8503665833 113.13373546275103,-15.467148696189346,551681.1945057022 113.43732453653594,-15.878034658906978,551808.857380457 113.74227556838467,-16.288364181614114,551937.811185507 114.04862974416545,-16.698120330841046,552068.0276824743 114.35642865891214,-17.107285959161665,552199.4781631278 114.66571421725702,-17.515843550953495,552332.1334100314 114.97652886539889,-17.92377550960798,552465.9638000167 115.28891549134376,-18.33106400236484,552600.9392664218 115.60291732386499,-18.737690806364466,552737.029258992 115.9185781650715,-19.143637594086552,552874.2028503162 116.23594229299837,-19.548885778401825,553012.428697213 116.55505435217495,-19.953416358949344,553151.6749999309 116.87595959570699,-20.35721020565423,553291.9096113411 117.19870378328464,-20.760247904030795,553433.0999975266 117.52333306890291,-21.16250960191264,553575.2131963517 117.84989424801995,-21.563975290910452,553718.2159291997 118.17843464900143,-21.96462465198907,553862.0745607805 118.50900202226325,-22.36443690260489,554006.7550572103 118.84164479177626,-22.763391075941236,554152.2230999849 119.1764119383559,-23.1614658668101,554298.4440451575 119.51335289276548,-23.558639479236714,554445.38288091 119.85251778164617,-23.95488990332622,554593.0043435881 120.19395731934256,-24.350194761536187,554741.2728762621 120.53772268828469,-24.744531156769522,554890.1525859488 120.88386579063368,-25.13787594671589,555039.6073613758 121.2324391381841,-25.530205590558047,555189.6008310454 121.58349572661754,-25.921495997638008,555340.0963201341 121.93708929619632,-26.3117227991282,555491.056969788 122.29327420754132,-26.700861195240915,555642.4456947262 122.65210532253406,-27.08888580454858,555794.2251399395 123.01363825773915,-27.47577093284143,555946.3578012001 123.37792926670869,-27.861490420921616,556098.8059823116 123.74503510439041,-28.246017494689514,556251.5317516851 124.11501329398199,-28.62932503103611,556404.4970637978 124.48792199631399,-29.011385406332483,556557.6637161565 124.8638198724563,-29.392170347403905,556710.9933058561 125.24276635212266,-29.771651194323628,556864.4473516805 125.6248214956017,-30.149798749733698,557017.9872509126 126.01004585455158,-30.526583130846216,557171.5742358995 126.3985007370823,-30.90197402902555,557325.1694965751 126.79024806883434,-31.27594056009368,557478.7341371416 127.18535023851764,-31.648451117546646,557632.2291328097 127.58387037386228,-32.0194736288138,557785.6154523661 127.98587218582743,-32.38897540674779,557938.8540148904 128.39141981448566,-32.756923004266945,558091.9056466962 128.80057809867657,-33.12328246721694,558244.7312037235 129.21341241762323,-33.48801918727743,558397.2915283336 129.62998852221295,-33.85109775829398,558549.5474065609 130.0503728077443,-34.212482225687324,558701.4596900342 130.47463214709356,-34.57213594106316,558852.9892529249 130.90283370356258,-34.93002142054632,559004.0969496459 131.33504521641615,-35.286100590723606,559154.7437359503 131.77133480918286,-35.640334645297095,559304.8906262047 132.21177079886837,-35.99268390579425,559454.4986515295 132.65642197509942,-36.343108064071444,559603.5289798987 133.10535739995188,-36.69156604142075,559751.9428737146 133.55864620153508,-37.03801585210429,559899.7016485733 134.01635784828503,-37.38241484249032,560046.7667920138 134.47856193951955,-37.7247195531053,560193.099921533 134.9453279779526,-38.06488558551031,560338.6627440588 135.41672564645611,-38.40286783822005,560483.4171730387 135.8928245750938,-38.73862037225918,560627.3252870039 136.3736941041699,-39.07209628200335,560770.3492898415 136.85940355153235,-39.40324792808475,560912.4516259432 137.35002196308514,-39.73202680712484,561053.594939423 137.84561785834586,-40.0583834272448,561193.7420352309 138.34625948680687,-40.3822675382496,561332.8559921345 138.85201456935098,-40.703628006297485,561470.9001226585 139.36295000795548,-41.0224126949064,561607.8379351319 139.87913215220038,-41.338568692775915,561743.6332442474 140.4006265053827,-41.65204219427272,561878.2501317778 140.92749742184117,-41.962778386857714,562011.6529096825 141.4598083602841,-42.27072167699217,562143.8062279305 141.99762156867067,-42.57581557743047,562274.6750361179 142.5409977595618,-42.87800260209229,562404.2245477317 143.08999635312819,-43.17722449058963,562532.4203449392 143.64467514273198,-43.47342210340519,562659.2283412322 144.20508993962125,-43.766535325350056,562784.6147468705 144.77129481352867,-44.056503289284194,562908.5461704603 145.34334173316242,-44.34326428043391,563030.9895826473 145.92128018387356,-44.62675564953143,563151.9122828722 146.50515740405223,-44.906914036492616,563271.2819974463 147.0950180005294,-45.18367528494081,563389.0668444227 147.690903543771,-45.45697436652237,563505.2353017034 148.29285279749539,-45.72674560502532,563619.7563013916 148.9009013138287,-45.99292260249361,563732.599195913 149.51508100254043,-46.255438175876606,563843.7337275721 150.13542036417246,-46.51422458229872,563953.1301189304 150.76194406147894,-46.76921345797038,564060.7590402773 151.39467247191672,-47.02033576840304,564166.5915806767 152.03362192259934,-47.26752203535416,564270.5993341916 152.6788042461669,-47.510702289679976,564372.7543687378 153.3302263169363,-47.74980603620261,564473.0291987276 153.98789030095654,-47.98476248268963,564571.3968669233 154.6517931945199,-48.21550050759333,564667.8309147273 155.32192635997916,-48.441948640441325,564762.3053565159 155.99827578756344,-48.66403529293594,564854.7947568836 156.68082163162134,-48.88168874223079,564945.2742025078 157.36953775610797,-49.094837127388374,565033.7192781579 158.0643920086125,-49.303408682296656,565120.1061391961 158.7653457779889,-49.507331734739296,565204.4114850506 159.47235354170223,-49.706534719001986,565286.6125369985 160.18536318331127,-49.9009464098252,565366.6871057037 160.90431556591182,-50.09049593699257,565444.6135663909 161.62914410593078,-50.27511281360924,565520.3708384205 162.35977513816067,-50.45472716971595,565593.9384477657 163.09612751938278,-50.62926978148675,565665.2965038685 163.8381122438116,-50.79867211404652,565734.4256811391 164.5856328640609,-50.96286655268498,565801.30727612 165.33858514735857,-51.121786445056344,565865.9231861862 166.0968567334501,-51.27536615666526,565928.2558929342 166.8603276349858,-51.423541296899536,565988.288513941 167.62886994786533,-51.56624877187796,566046.0047833273 168.4023475770143,-51.7034268499818,566101.3890371021 169.18061681618474,-51.835015379217495,566154.4262593839 169.96352613026409,-51.960955847631745,566205.1020648737 170.750915954407,-52.08119145556437,566253.4026861757 171.54261936556625,-52.19566732021845,566299.3150144002 172.33846194339742,-52.30433053993679,566342.8265835597 173.1382616482706,-52.40713026926997,566383.9255599107 173.94182959334293,-52.504017906159895,566422.6007768379 174.74896998117202,-52.59494715592097,566458.8417212103 175.5594800741931,-52.679874104840415,566492.6385247832 176.37315105025596,-52.75875738514273,566523.9819932425 177.18976803575964,-52.83155823432458,566552.8635945958 178.00911014012019,-52.898240562896305,566579.2754526349 178.830951414897,-52.958771092365694,566603.210370087 179.65506095313518,-53.01311940568682,566624.6618190297 -179.5187970014245,-53.06125800496957,566643.6239364698 -178.690862014961,-53.103162418134474,566660.0915415229 -177.86137731200353,-53.13881123668388,566674.060127915 -177.03058959505083,-53.168186159770414,566685.5258616244 -176.19874795550015,-53.19127206592818,566694.4855920966 -175.3661036743342,-53.20805703515811,566700.9368468251 -174.53290999937173,-53.21853237662348,566704.877831085 -173.69942102946752,-53.222692662925986,566706.3074331526 -172.8658914762018,-53.22053573455757,566705.2252209397 -172.03257644054992,-53.2120627096216,566701.6314438831 -171.1997302715187,-53.197277979412426,566695.5270320923 -170.36760634101935,-53.176189194532085,566686.9135951137 -169.53645681401835,-53.148807256320474,566675.7934259058 -168.7065315315498,-53.11514627389964,566662.1694939524 -167.87807780812017,-53.07522353257127,566646.0454461486 -167.05134022424767,-53.029059467951726,566627.4256128652 -166.226559560847,-52.97667758603086,566606.3149950404 -165.40397262776133,-52.91810441572478,566582.7192671687 -164.58381212135276,-52.853369467926704,566556.6447854486 -163.7663056068586,-52.78250512137571,566528.0985688962 -162.9516754204863,-52.70554656232267,566497.088304415 -162.14013858585642,-52.6225317317094,566463.622357011 -161.3319058799507,-52.53350118064111,566427.7097449723 -160.52718180740885,-52.43849800093576,566389.3601470189 -159.72616459598487,-52.3375677643513,566348.5839145457 -158.92904535061737,-52.230758352139176,566305.3920409362 -158.1360081148941,-52.11811988072495,566259.7961707604 -157.34722994121086,-51.99970463728215,566211.8086140439 -156.56288014773608,-51.875566888171136,566161.4423097552 -155.78312045923482,-51.745762804146096,566108.7108370705 -155.00810516074262,-51.610350396607814,566053.628431597 -154.2379804520029,-51.46938930972911,565996.2099431367 -153.47288465881138,-51.32294074940924,565936.470848987 -152.71294847788306,-51.17106742427693,565874.4272720845 -151.95829440688107,-51.0138333260101,565810.0959331508 -151.20903703864667,-50.85130366582454,565743.4941659856 -150.46528336735736,-50.68354482380434,565674.6399374862 -149.72713230027804,-50.51062412140413,565603.5517943052 -148.99467501675153,-50.33260976864774,565530.2488800834 -148.26799532356097,-50.1495708247017,565454.7509573037 -147.54716924509924,-49.96157696589888,565377.078348596 -146.83226542138206,-49.76869844609308,565297.2519558561 -146.12334551258638,-49.57100607066715,565215.2932838907 -145.4204638439537,-49.36857096268797,565131.2243764879 -144.72366784032315,-49.16146453811744,565045.0678374198 -144.0329984583225,-48.94975849470134,564956.8468557778 -143.34848987641416,-48.73352457815134,564866.5851370115 -142.67016995344227,-48.51283457319389,564774.3069256952 -141.99806067429887,-48.28776030808938,564680.0370325659 -141.33217787792887,-48.05837342207779,564583.8007606395 -140.67253172144746,-47.82474537260438,564485.6239297274 -140.01912713393924,-47.586947455612915,564385.5329050836 -139.37196356695173,-47.34505057492069,564283.5545187949 -138.73103545777312,-47.09912526541756,564179.7160959898 -138.0963326819081,-46.849241728784605,564074.0454850167 -137.46784031346013,-46.59546960499484,563966.570974292 -136.84553908386468,-46.33787801086682,563857.3213201523 -136.22940582127518,-46.076535590472865,563746.3257784991 -135.61941321833555,-45.811510288614556,563633.6140172773 -135.0155302757826,-45.542869403796615,563519.2161459324 -134.4177227251167,-45.2706796523307,563403.1627484214 -133.82595279753878,-44.995006943380076,563285.4847915792 -133.2401796498871,-44.71591644522017,563166.2136560492 -132.660359761605,-44.43347266187761,563045.3811706324 -132.0864467101695,-44.147739209176706,562923.0195167195 -131.51839156178193,-43.85877889307602,562799.16126069 -130.95614325845432,-43.56665379750455,562673.8393894242 -130.39964837871787,-43.271425060894856,562547.0872111294 -129.84885150889218,-42.97315296519686,562418.9383890477 -129.30369560533057,-42.671897033825765,562289.4269781142 -128.7641217460946,-42.367715807792045,562158.5873223732 -128.2300694830809,-42.0606669443032,562026.4540899377 -127.70147717044013,-41.75080732348336,561893.062310713 -127.17828172046741,-41.43819282357774,561758.4472706219 -126.6604189201858,-41.12287842786942,561622.6445477598 -126.14782374773813,-40.80491833903406,561485.6900510921 -125.6404301075973,-40.484365752830634,561347.6199117481 -125.13817113628211,-40.161272972230506,561208.4705202711 -124.6409794890249,-39.835691528334934,561068.2785662245 -124.14878706864907,-39.50767195204993,560927.080926794 -123.66152531463324,-39.17726389440666,560784.9147050682 -123.17912545692789,-38.84451625309528,560641.8172704468 -122.70151825434854,-38.50947694168016,560497.8261448193 -122.22863425067557,-38.17219301522699,560352.979041814 -121.76040401349545,-37.83271080158189,560207.313907864 -121.2967578706595,-37.49107566779998,560060.8688063251 -120.83762614094488,-37.14733215026639,559913.6819574995 -120.38293936303577,-36.80152408999526,559765.7917803609 -119.93262801984883,-36.45369439598845,559617.236774794 -119.48662276012811,-36.10388517917173,559468.0555624086 -119.04485460430797,-35.75213789106419,559318.2869287618 -118.6072546715429,-35.398493083878506,559167.9697040169 -118.17375438313182,-35.0429905476787,559017.1428044663 -117.7442856561394,-34.68566945186567,558865.8452751244 -117.31878062498194,-34.32656810189878,558714.1161691692 -116.89717183750182,-33.96572407916297,558561.994589982 -116.47939242714149,-33.603174384812256,558409.5197340974 -116.06537584375654,-33.23895519303876,558256.7307696684 -115.65505602889075,-32.87310199322435,558103.6668789621 -115.24836758259507,-32.505649735747745,557950.3673015734 -114.84524549261594,-32.136632581786266,557796.8712121572 -114.44562529571625,-31.76608404739139,557643.2177633418 -114.04944324218447,-31.394037150930803,557489.4461290897 -113.65663601575706,-31.02052415944517,557335.595381995 -113.26714089646444,-30.645576734352648,557181.7045365159 -112.88089590614146,-30.269226080247908,557027.8125923915 -112.49783953801642,-29.891502687877022,556873.9584117965 -112.11791090723463,-29.51243648121608,556720.1807628202 -111.74104988849382,-29.132056967405962,556566.5183627924 -111.3671968524337,-28.750392976428664,556413.0097556751 -110.99629279904156,-28.367472809353806,556259.6933555877 -110.6282795029931,-27.983324389224354,556106.6074900604 -110.26309923552718,-27.597974997536145,555953.7902778578 -109.90069490834283,-27.211451423489308,555801.2796725294 -109.54101020040973,-26.823780115661954,555649.1135054746 -109.18398928812924,-26.43498691543119,555497.3293644689 -108.82957698592432,-26.045097207070494,555345.964637181 -108.47771885946653,-25.65413607009766,555195.056553927 -108.12836097181275,-25.26212800976941,555044.642067233 -107.78145000555726,-24.86909710790604,554894.7578951699 -107.43693338149446,-24.47506717581863,554745.4405637659 -107.09475900290522,-24.080061482003615,554596.7262878313 -106.75487537575499,-23.684102903619387,554448.6510140855 -106.41723172168757,-23.287214079890685,554301.2504630993 -106.08177772678025,-22.889417137167197,554154.5600116584 -105.74846365823542,-22.490733840959102,554008.6147356213 -105.41724047388655,-22.09118574975461,553863.449451269 -105.08805957417196,-21.69079393759673,553719.0985995587 -104.7608729149556,-21.28957914660714,553575.5962885194 -104.4356331135784,-20.88756194116577,553432.9763340252 -104.1122932064941,-20.484762428148592,553291.2721461228 -103.79080675738913,-20.08120040989203,553150.5167709546 -103.47112796058072,-19.676895538684228,553010.7429308277 -103.15321140464538,-19.27186703481857,552871.982912892 -102.83701217161368,-18.866133839949843,552734.2686105148 -102.52248594680346,-18.459714771855644,552597.6315625566 -102.20958877707129,-18.052628240461228,552462.1028446753 -101.89827717598509,-17.644892401543544,552327.7131100207 -101.58850822496643,-17.236525311733377,552194.49262773 -101.28023933643563,-16.827544642652818,552062.4711770011 -100.97342836107636,-16.41796783494011,551931.6780871135 -100.66803367887466,-16.007812253458837,551802.14227502 -100.364013977002,-15.597094899701721,551673.8921424594 -100.06132834023151,-15.18583256609575,551546.9556152167 -99.75993635753787,-14.774041991402722,551421.3601797139 -99.459797887846,-14.361739571521246,551297.1327834447 -99.16087315758855,-13.948941514059584,551174.2998733316 -98.86312286388271,-13.53566399389569,551052.8874313572 -98.56650793878924,-13.12192286251941,550932.9208784031 -98.27098965586916,-12.707733802848463,550814.4251117465 -97.97652971886129,-12.293112484928043,550697.4245395891 -97.68309004092482,-11.878074273956758,550581.9429885796 -97.39063283826277,-11.46263438531227,550468.0037403152 -97.09912072906252,-11.046808040380458,550355.6295647625 -96.80851650499064,-10.630610173392244,550244.8426316112 -96.51878323163592,-10.214055586645863,550135.6645457643 -96.22988434034497,-9.797159106444168,550028.1163795566 -95.94178340800592,-9.379935288872232,549922.2185881465 -95.65444425152698,-8.96239857519662,549817.9910439076 -95.36783102020534,-8.544563447899423,549715.4530674301 -95.08190797856825,-8.126444135519547,549614.6233470961 -94.7966395979351,-7.7080547682143825,549515.5199723057 -94.51199065110296,-7.289409533869055,549418.1604632527 -94.22792599260201,-6.870522382133594,549322.5616947842 -93.9444106566247,-6.451407180123069,549228.7399284703 -93.66140994080601,-6.032077868595474,549136.710841044 -93.37888919865922,-5.612548165294849,549046.4894527455 -93.09681392773355,-5.192831720786421,548958.0901581262 -92.81514986134475,-4.7729422746778205,548871.5267531984 -92.5338627550388,-4.352893358397178,548786.8123683061 -92.25291847799717,-3.9326984511045366,548703.9594976666 -91.97228310448405,-3.512371136088184,548622.980025165 -91.69192269743469,-3.09192480287719,548543.8851618794 -91.4118034065445,-2.671372803432741,548466.6854743211 -91.13189155160354,-2.2507286083844646,548391.3909088613 -90.85215341339607,-1.830005509023419,548318.0107339468 -90.57255532689406,-1.4092167734316126,548246.5535670776 -90.2930637657445,-0.9883758027612083,548177.0273977463 -90.01364513732473,-0.5674958330091693,548109.4395345512 -89.73426586695942,-0.14659009121140806,548043.7966307414 -89.45489249324082,0.2743280482831385,547980.1047057655 -89.17549145324539,0.6952453621421238,547918.3690972504 -88.89602917370598,1.116148621804041,547858.5944851441 -88.61647216391346,1.5370244372236128,547800.784911844 -88.33678680127674,1.9578595551950124,547744.9437390884 -88.05693942078804,2.3786407030636814,547691.0736706634 -87.77689640850869,2.79935443251123,547639.1767711106 -87.49662398932416,3.219987417751418,547589.2544275421 -87.21608831478899,3.6405262992170555,547541.3073709168 -86.93525555687027,4.060957527398847,547495.3356933112 -86.65409169474232,4.481267660837066,547451.3388146681 -86.37256260193476,4.901443209647494,547409.3155026359 -86.0906341445981,5.321470479646224,547369.2638883844 -85.80827196042387,5.741335869808791,547331.1814382967 -85.52544155645386,6.1610257159744295,547295.0649723633 -85.24210839444413,6.580526134842195,547260.9106785369 -84.95823768128177,6.999823321088938,547228.7140893581 -84.67379445835672,7.418903391068449,547198.4700988798 -84.38874369248587,7.837752226891809,547170.1729755927 -84.1030500629841,8.256355772961301,547143.816343924 -83.81667805188692,8.67469987969391,547119.3931997283 -83.52959203510616,9.092770147721826,547096.8959217416 -83.24175607010287,9.510552223703463,547076.3162579632 -82.95313398247245,9.928031644100829,547057.6453396505 -82.66368946245764,10.34519367950226,547040.8736913789 -82.37338584672864,10.762023629600748,547025.9912221929 -82.08218620979379,11.178506667025992,547012.9872381473 -81.79005345889605,11.594627681820121,547001.8504509737 -81.49695011343209,12.010371575443896,546992.5689739205 -81.20283839880396,12.4257231046917,546985.1303328557 -80.90768034025842,12.84066672632559,546979.5214735547 -80.61143754304773,13.255186889990313,546975.7287621576 -80.3140712838623,13.669267882220206,546973.7379948248 -80.01554260834234,14.082893671255102,546973.5344036877 -79.71581210926158,14.496048198728827,546975.1026618001 -79.41484001402273,14.908715223788146,546978.4268913863 -79.11258629351244,15.320878168106656,546983.4906684546 -78.80901042391606,15.732520406215903,546990.2770321602 -78.50407149046224,16.143625109748584,546998.7684916375 -78.19772828361728,16.554175092679728,547008.9470293422 -77.88993906767745,16.96415310015638,547020.794114632 -77.5806616842761,17.373541652886633,547034.290709286 -77.26985364654283,17.782322892634856,547049.4172695401 -76.95747191095015,18.19047886940237,547066.1537638237 -76.64347297245384,18.59799138599382,547084.4796768959 -76.32781297478381,19.004841843781467,547104.3740107049 -76.01044746326363,19.4110115281039,547125.8153060538 -75.69133149726723,19.816481453024398,547148.7816454382 -75.3704197472932,20.221232207409727,547173.2506527536 -75.0476662602974,20.62524423838158,547199.1995187007 -74.72302456013169,21.028497696312613,547226.6050024119 -74.39644775631099,21.430972281240138,547255.4434299759 -74.06788830336652,21.832647524236986,547285.690723507 -73.73729810168763,22.233502632665886,547317.3224015023 -73.40462861289583,22.6335163369798,547350.313576304 -73.0698306106169,23.032667169854307,547384.6389865857 -72.73285429042967,23.430933311742105,547420.2729965382 -72.39364938222612,23.82829243811768,547457.1895922801 -72.05216490234784,24.224721996207375,547495.3624175885 -71.70834926221453,24.620199050904013,547534.7647719531 -71.36215039104796,25.014700132509088,547575.3696059767 -71.0135154751715,25.408201510909787,547617.149560176 -70.66239108122225,25.80067904191765,547660.076961904 -70.30872327016361,26.19210801557839,547704.1238198556 -69.95245734628149,26.58246342764694,547749.2618656739 -69.59353797428167,26.97171982641807,547795.4625498359 -69.23190930476443,27.359851161701876,547842.6970352815 -68.86751471758599,27.746831053442648,547890.9362416408 -68.50029693930895,28.132632639138272,547940.1508401043 -68.13019818457167,28.517228423584047,547990.3112462824 -67.75715988271547,28.900590544494424,548041.3876667655 -67.38112281590737,29.282690620628664,548093.350093113 -67.00202725175205,29.663499602427304,548146.168293915 -66.61981267801303,30.042988034511726,548199.8118635335 -66.23441794098657,30.421125904648473,548254.2502152232 -65.84578138773904,30.797882495441506,548309.4525724917 -65.45384060050478,31.17322664358673,548365.3880197636 -65.05853253333467,31.547126589849647,548422.0254946847 -64.65979367704581,31.919549832005252,548479.3337788736 -64.25755977372653,32.29046338074251,548537.2815502491 -63.851765979402735,32.659833610870265,548595.8373746132 -63.44234702365057,33.0276261157296,548654.9696958091 -63.029236931427654,33.39380595968004,548714.6468895264 -62.61236919337355,33.75833753078099,548774.837254163 -62.191676931346116,34.12118439695719,548835.5090005294 -61.76709262907283,34.48230955502807,548896.6303068323 -61.338548300179944,34.84167528516071,548958.1693089124 -60.905975678547335,35.19924300913138,549020.0940895337 -60.46930593772872,35.55497353588793,549082.3727343334 -60.028469881106275,35.90882691814774,549144.9733214908 -59.58339813692121,36.2607623131493,549207.8639106767 -59.134020886959306,36.610738224792726,549271.0125996921 -58.680268061673,36.95871236282129,549334.3875136857 -58.222069558634814,37.304641506535276,549397.9567937745 -57.759354965644654,37.64848174361766,549461.6886541918 -57.29205377838738,37.99018833240878,549525.5513710781 -56.8200956298727,38.32971556915009,549589.5132708481 -56.343410018654694,38.66701702365048,549653.5427876225 -55.861926546629384,39.00204540527547,549717.6084516275 -55.375575160865175,39.33475243436565,549781.6788774243 -54.884285894301364,39.66508907499259,549845.7228213346 -54.387989111341994,39.99300540536103,549909.7091695569 -53.88661578471468,40.31845049416877,549973.6069263171 -53.38009722516474,40.641372630766874,550037.3852710204 -52.868365363285086,40.96171920079523,550101.0135461959 -52.351353035607694,41.27943656835214,550164.4612455941 -51.82899372972692,41.59447030396035,550227.698070881 -51.301221883125464,41.90676506636813,550290.6939194294 -50.767973195441165,42.2162644915094,550353.4188724722 -50.229184382707864,42.522911418765254,550415.843251071 -49.6847934915759,42.8266477799715,550477.9376038525 -49.13474024852291,43.12741449625521,550539.6726952479 -48.57896581024868,43.4251517031734,550601.0195605647 -48.01741310959712,43.719798648058344,550661.9494936805 -47.45002722856838,44.0112935959318,550722.4340354749 -46.876755151821364,44.299574054126104,550782.4450277352 -46.29754614612673,44.58457667928382,550841.9546009393 -45.71235214999689,44.86623719349806,550900.9351628728 -45.12112753893756,45.14449060920961,550959.3594512421 -44.52382952729808,45.41927114698231,551017.200521505 -43.920418577990795,45.690512163396605,551074.4317358338 -43.31085818252902,45.95814637674649,551131.0268141264 -42.69511527297768,46.222105796992956,551186.9598220595 -42.07316066437508,46.48232166661031,551242.2051603784 -41.44496882632741,46.73872468778636,551296.7376141512 -40.810518320069974,46.99124496578971,551350.5323410588 -40.1697922584196,47.23981196399655,551403.5648611098 -39.52277806919557,47.48435473310512,551455.8111039274 -38.86946795279182,47.7248018690429,551507.2473973506 -38.209859348145336,47.9610814832396,551557.8504576157 -37.543954689865785,48.19312143416532,551607.5974344913 -36.871761873613906,48.420849300670014,551656.4659002542 -36.19329472004927,48.64419236831235,551704.433840384 -35.508572726180006,48.86307786320954,551751.479696392 -34.81762151219312,49.077432941373864,551797.5823552094 -34.120473297988184,49.28718469152307,551842.7211404432 -33.41716661080161,49.49226037080525,551886.8758527288 -32.70774673111043,49.692587410238716,551930.0267596048 -31.992266146608355,49.888093433926535,551972.1545873595 -31.270784219527517,50.07870649568569,552013.240558771 -30.543367613907854,50.26435510011263,552053.2663834915 -29.810090711235667,50.444968237513784,552092.2142505578 -29.07103523526468,50.62047561981442,552130.0668633268 -28.326290630590414,50.79080771610298,552166.8074304974 -27.575954444643017,50.95589580186859,552202.4196592236 -26.82013188118661,51.1156721918496,552236.8877872238 -26.058936128269455,51.2700702881519,552270.196574362 -25.29248868797827,51.41902464161937,552302.3312965174 -24.5209188450478,51.562471178529464,552333.2777746595 -23.744363936006277,51.70034725860597,552363.0223670785 -22.962969606799255,51.832591745581105,552391.5519640222 -22.176889194431872,51.959145223919464,552418.8540136275 -21.386283921568904,52.07995006332914,552444.9165148556 -20.591323072198495,52.19495049486729,552469.7280129007 -19.792183282371422,52.30409281327084,552493.2776218955 -18.989048649208247,52.40732544396189,552515.5550185732 -18.182110822706992,52.50459902051491,552536.5504384905 -17.371568196981656,52.59586656774555,552556.2546953957 -16.55762593760878,52.68108356682576,552574.6591756891 -15.740495982702022,52.76020802961498,552591.7558354198 -14.920396141915257,52.83320065751925,552607.537216322 -14.097550039120893,52.90002490022147,552621.9964410086 -13.272187034940261,52.96064702238236,552635.1272108449 -12.444541237295594,53.01503623346405,552646.9238185224 -11.614851369070305,53.063164735813714,552657.3811440788 -10.783360624413868,53.105007779588064,552666.4946535826 -9.950315602445036,53.14054375928016,552674.2604082647 -9.115966120276283,53.169754247485955,552680.6750613266 -8.280565010236872,53.19262403459942,552685.7358575122 -7.444367007873003,53.20914118868427,552689.4406386781 -6.607628519023402,53.21929707216584,552691.7878414827 -5.770607390841857,53.22308636385803,552692.7764977918 -4.933561764347092,53.22050708001204,552692.4062367185 -4.096749831844505,53.21156057235557,552690.6772831477 -3.2604295962156282,53.19625153125368,552687.5904590199 -2.4248577201108574,53.17458796715678,552683.14718179 -1.5902892977256176,53.146581189742946,552677.3494638526 -0.7569776176408033,53.11224579237044,552670.1999146341 0.07482694709213272,53.071599594610895,552661.7017355433 0.904877150329214,53.02466360360883,552651.858720218 1.732929058736014,52.97146198132324,552640.6752574939 2.5587431224501698,52.91202195023003,552628.156322807 3.382084325224835,52.84637373926608,552614.3074793062 4.202722316816164,52.77455053654797,552599.1348816593 5.0204324137476934,52.69658836153641,552582.6452639352 5.834995675363891,52.61252599896045,552564.845941594 6.646198967773325,52.5224049406376,552545.7448160766 7.453835873611166,52.426269228312066,552525.3503592806 8.257706694617172,52.32416537967377,552503.6716163347 9.057618426296276,52.21614232351298,552480.718211029 9.853385577060477,52.10225121801641,552456.5003268553 10.644830082699475,51.98254537336255,552431.0287106485 11.431781197304916,51.857080184701346,552404.3146787236 12.214076214992202,51.72591293089468,552376.3700946629 12.991560294038404,51.58910269819511,552347.2073737143 13.764086273144848,51.44671031545228,552316.8394896848 14.53151528860526,51.298798138162105,552285.27994947 15.29371652680283,51.145429977440564,552252.542798264 16.050566959525455,50.9866710414894,552218.6426271141 16.801951875252954,50.82258770941334,552183.5945443561 17.547764560080456,50.65324746917128,552147.4141815242 18.28790597054119,50.47871886874557,552110.117701628 19.022285180957216,50.29907128358267,552071.7217674942 19.750819014616074,50.11437486651635,552032.2435484608 20.473431657212597,49.924700511362545,551991.7007292173 21.190055041652588,49.730119617127244,551950.1114752772 21.90062843386931,49.53070405212342,551907.4944403407 22.605098005887232,49.32652613194483,551863.868775713 23.303417174374676,49.117658382830875,551819.2540930086 23.995546143957075,48.9041735214283,551773.670472137 24.681451469978178,48.68614444834374,551727.1384712846 25.361106340150396,48.463644012326625,551679.6790869542 26.034490115366022,48.23674500641456,551631.3137625713 26.70158786830225,48.005520177572585,551582.0643989415 27.362390642315447,47.77004199271259,551531.953311804 28.016894984592323,47.53038265132662,551481.0032410047 28.665102480578398,47.28661411114831,551429.2373613764 29.307020000266157,47.03880785646775,551376.6792379724 29.942659225019003,46.78703492686193,551323.3528357516 30.572036199731066,46.531365958334376,551269.2825308313 31.19517155859775,46.27187095396379,551214.4930635645 31.81209007420809,46.0086193279409,551159.0095487088 32.4228202127457,45.74167996131189,551102.8574869578 33.02739436165378,45.471120974667876,551046.0627160959 33.62584839636705,45.19700978643618,550988.6514215305 34.218221251186314,44.919413182114184,550930.6501481179 34.804555152427035,44.6383970884965,550872.0857495024 35.38489520055741,44.35402664500165,550812.985399028 35.959288969354866,44.06636628516351,550753.3766017606 36.52778674033226,43.7754795117029,550693.2871422167 37.09044110735952,43.48142897968901,550632.7450956069 37.647306601887564,43.18427658888897,550571.7788399553 38.19843993569509,42.88408325916005,550510.4170024846 38.74389962417562,42.58090902391923,550448.688471061 39.28374564716525,42.27481313222437,550386.6224064112 39.81803968516649,41.96585382369551,550324.2481873195 40.346844780639486,41.65408843113417,550261.5954222598 40.870225015540726,41.33957349102665,550198.6939616055 41.388245757904556,41.02236451736997,550135.5738418904 41.9009733488628,40.70251611224934,550072.2652975373 42.4084748002454,40.38008208361111,550008.7987730171 42.910818056144684,40.055115217422866,549945.2048663639 43.408071692445866,39.72766739510385,549881.5143409824 43.900304647359256,39.39778971752526,549817.758137639 44.387586481789036,39.06553227500872,549753.967317505 44.86998710571386,38.7309442706219,549690.1730739444 45.34757652880295,38.39407414946816,549626.4067442822 45.820425121937305,38.05496936611304,549562.6997526077 46.28860337289919,37.71367651286926,549499.0836214748 46.75218164571964,37.370241453556375,549435.5899833781 47.21123045643223,37.02470908802472,549372.2505235624 47.66582023792193,36.677123484667554,549309.0969915387 48.116021124956156,36.327528017930284,549246.16121225 48.56190322802649,35.97596512969359,549183.4750290706 49.00353641555493,35.6224764653505,549121.0703151159 49.44099011781464,35.26710301444844,549058.9789839946 49.87433359652001,34.909884868759136,548997.2329332663 50.303635751387134,34.550861361358145,548935.8640554585 50.72896492788515,34.190071209875065,548874.9042483508 51.15038919489534,33.827552271150424,548814.3853591103 51.56797616397353,33.46334168282978,548754.3391949903 51.981792803482776,33.0974760087846,548694.7975330302 52.391905724246755,32.729990990307144,548635.7920651566 52.7983810045539,32.360921689818646,548577.3544084398 53.20128402002954,31.990302638086156,548519.5161142106 53.600679726484806,31.61816758195767,548462.30861432 53.99663249134203,31.244549629845658,548405.7632309227 54.38920594123095,30.86948140043344,548349.911184893 54.77846323677681,30.492994766989444,548294.7835435442 55.16446691543893,30.11512100433931,548240.4112298269 55.54727874977063,29.735890938816816,548186.8250300215 55.92696001360496,29.35533468921932,548134.0555431132 56.303571341414255,28.97348181504553,548082.1331893802 56.677172587416315,28.590361467466284,548031.0882172649 57.04782309354078,28.206002127031912,547980.9506546676 57.415581551806824,27.820431752974258,547931.750316835 57.78050587207019,27.43367793502946,547883.5168123984 58.14265344935157,27.045767628011294,547836.279496744 58.50208102667873,26.65672730201682,547790.0674792225 58.858844575218264,26.26658309496242,547744.9096282081 59.21299955113225,25.875360544155015,547700.8345268762 59.564600771865415,25.483084737267415,547657.8704795586 59.91370229458422,25.08978046547461,547616.0455158771 60.260357671577125,24.695471952157646,547575.3873490543 60.60461983345811,24.30018300455092,547535.9233814536 60.94654096778211,23.903937167375435,547497.6807076212 61.286172777892105,23.50675744883137,547460.6860754614 61.6235663599456,23.10866647282014,547424.9658908108 61.958772096149964,22.70968663300269,547390.5462194105 62.29183990118807,22.30983981623018,547357.4527511026 62.62281910922035,21.90914755527042,547325.7108033957 62.95175836791574,21.50763118322619,547295.3453223489 63.27870587873115,21.10531155455814,547266.3808499451 63.6037092934397,20.702209198251325,547238.8415266617 63.92681560269241,20.298344472547505,547212.7510911357 64.24807138231036,19.893737283710877,547188.1328509834 64.56752268268335,19.488407239586408,547165.0096842736 64.88521492859203,19.082373804597584,547143.4040379772 65.20119315660122,18.675656016414038,547123.3379023706 65.51550191116,18.268272639857916,547104.8328114061 65.8281851391083,17.86024232212586,547087.9098398758 66.13928643414117,17.451583307515207,547072.5895816096 66.44884892472038,17.04231359163814,547058.8921486513 66.7569151800729,16.63245107684304,547046.8371671403 67.06352744312646,16.22201328514296,547036.4437594514 67.36872752705935,15.811017512707492,547027.7305421449 67.672556718373,15.399480985453694,547020.715620528 67.97505600847396,14.98742057033048,547015.416574891 68.27626599321668,14.574852930050964,547011.8504571865 68.5762267749082,14.161794678842424,547010.03378426 68.87497819357479,13.748262092212,547009.982528293 69.17255972385698,13.33427126191369,547011.7121122296 69.46901038535582,12.919838251821437,547015.2374015959 69.76436896335466,12.504978806327522,547020.5726993083 70.05867391373162,12.089708505510707,547027.7317398131 70.35196327021403,11.674042921121597,547036.7276794576 70.644274862274,11.257997323747071,547047.5730958397 70.93564622747704,10.84158683815975,547060.279980529 71.22611450881888,10.424826599400582,547074.8597280777 71.51571668377844,10.007731458834362,547091.323139926 71.80448946268372,9.590316139672447,547109.6804157674 72.09246920226838,9.172595393122823,547129.9411411299\n"
    val sat1 = satellite1Coordinates.split("\n")
    val sat2 = satellite2Coordinates.split(" ")
    //val sat2 = satellite2Coordinates.split("\n")
    var closestDistance = Double.MAX_VALUE
    var midpointX = 0.0
    var midpointY = 0.0
    var finalX = Double.MAX_VALUE
    var finalY = Double.MAX_VALUE
    for (pos1 in sat1) {
        for (pos2 in sat2){
            val positions1 = pos1.split(",")
            val positions2 = pos2.split(",")


            val x1 = positions1[0].toDouble()
            val y1 = positions1[1].toDouble()
            val x2 = positions2[0].toDouble()
            val y2 = positions2[1].toDouble()

            // Calcular la distancia entre los puntos (x1, y1) y (x2, y2)
            val distance = sqrt((x2 - x1).pow(2) + (y2 - y1).pow(2))

            // Calcular el punto medio
            midpointX = (x1 + x2) / 2
            midpointY = (y1 + y2) / 2

            // Puedes almacenar la distancia en una variable o tomar alguna accin en base a la distancia
            // Por ejemplo, encontrar cundo estn ms cerca entre s
            if (distance < closestDistance) {
                closestDistance = distance
                finalX = midpointX
                finalY = midpointY

            }
        }
    }

    SSHConnection.flyto("${finalX},${finalY},0")
    val circleCoordinates = generateCircleCoordinates(finalX, finalY)

    SSHConnection.printCollision(circleCoordinates)


    getTour(satellite1Coordinates)

    return kmlTemplate.replace("%satellite1Coordinates%", satellite1Coordinates.replace(" ", ""))
        .replace("%satellite2Coordinates%", satellite2Coordinates)
}

fun getTour(coords: String) {
    val coords = coords.split("\n")
    val initPosition = coords[0]
    var kml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
            "<kml xmlns=\"http://www.opengis.net/kml/2.2\" xmlns:gx=\"http://www.google.com/kml/ext/2.2\" xmlns:kml=\"http://www.opengis.net/kml/2.2\" xmlns:atom=\"http://www.w3.org/2005/Atom\">\n" +
            "  <Document>\n" +
            "    <name>Tour</name>\n" +
            "    <open>1</open>\n" +
            "    <Folder>\n" +
            "    <gx:Tour>\n" +
            "      <name>Satellitetour</name>\n" +
            "      <gx:Playlist>\n"


    for (coord in coords) {
        val coord = coord.split(",")
        val alt = coord[2].toDouble() + 500000
        kml = kml + "<gx:FlyTo>\n" +
                "    <gx:duration>0.5</gx:duration>\n" +
                "    <gx:flyToMode>smooth</gx:flyToMode>\n" +
                "     <LookAt>\n" +
                "      <longitude>${coord[0]}</longitude>\n" +
                "      <latitude>${coord[1]}</latitude>\n" +
                "      <altitude>${alt}</altitude>\n" +
                "      <heading>0</heading>\n" +
                "      <tilt>30</tilt>\n" +
                "      <range>10000000</range>\n" +
                "      <gx:altitudeMode>absolute</gx:altitudeMode>\n" +
                "      </LookAt>\n" +
                "    </gx:FlyTo>\n"
    }

    kml = kml + " </gx:Playlist>\n" +
            "    </gx:Tour>\n" +
            " </Folder>\n" +
            "  </Document>\n" +
            "</kml>"

    val command = "chmod 777 /var/www/html/tourSat.kml; echo '${kml}' > /var/www/html/tourSat.kml"
    SSHConnection.executeCommand(command)
    val command2 = "chmod 777 /var/www/html/kmls.txt; echo '" +
            "http://lg1:81/tourSat.kml" +
            "' >> /var/www/html/kmls.txt"
    SSHConnection.executeCommand(command2)
}

fun generateCircleCoordinates(
    centerX: Double,
    centerY: Double,
): String {
    val radius = 10
    val numPoints = 250
    val coordinates =  StringBuilder()
    for (i in 0 until numPoints) {
        val angle = 2 * PI * i / numPoints.toDouble()
        val x = centerX + radius * cos(angle)
        val y = centerY + radius * sin(angle)
        coordinates.append("$x,$y,0.0\n")
    }
    val angle = 2 * PI * 0 / numPoints.toDouble()
    coordinates.append("${centerX + radius * cos(angle)},${centerY + radius * sin(angle)},0.0\n")
    return coordinates.toString()
}